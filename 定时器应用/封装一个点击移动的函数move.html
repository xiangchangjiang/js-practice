<html>

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width">
  <title>封装一个move函数,兼容IE8</title>
  <style>
    *{margin:0;padding:0;}
  #xx{
    width:100px;
    height:100px;
    background:greenyellow;
    position:absolute;
    left:0;
  
  }
  </style>


  <script>
    window.onload=function(){
      var btn1=document.getElementById('btn1')
      var btn2=document.getElementById('btn2')
      var btn3=document.getElementById('btn3')
      var xx=document.getElementById('xx')
      var timer
      btn1.onclick=function(){
        move(xx,400,12)
      }

      
      btn2.onclick=function(){
        move(xx,20,8)
      } 
      btn3.onclick=function(){
        clearInterval(timer)
      }
      
      function move(obj,target,speed){
        var  current=parseInt(getStyle(obj,'left'))
        if(target<current){
          speed=-speed 
        }
        clearInterval(timer)
        timer=setInterval(function(){
          console.log(getStyle(obj,'left'))
          var oldValue=parseInt(getStyle(obj,'left'))

          var newValue=oldValue+speed
          console.log(newValue)
          
          if (speed>0 && newValue>=target ||speed<0 && newValue<=target){
            newValue=target
          }
          obj.style.left=newValue+'px'
          if(obj.offsetLeft===target){
            clearInterval(timer)
          }
        
        },100)
      }

      function getStyle(obj,name){
        return window.getComputedStyle?getComputedStyle(obj,null)[name]:obj.currentStyle[name]
      }
    }
  </script>
</head>

<body>
  <button id='btn1'>点击按钮div向右走</button>
  <button id='btn2'>点击按钮div向左走</button>
  <button id='btn3'>停止</button>
  <br>
  <br>
  <div id="xx"></div>
  <div style='width:0px;height:800px;position:absolute;left:400px;border-right:1px solid black;'></div>
</body>

</html>